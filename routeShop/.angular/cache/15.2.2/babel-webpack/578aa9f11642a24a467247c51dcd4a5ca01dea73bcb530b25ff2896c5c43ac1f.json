{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (g && (g = 0, op[0] && (_ = 0)), _) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ShoppingCartComponent = void 0;\nvar shopping_cart_service_1 = require(\"../../../shared/services/shopping-cart.service\");\nvar i0 = require(\"@angular/core\");\nvar i1 = require(\"../../../shared/services/shopping-cart.service\");\nvar i2 = require(\"@angular/router\");\nfunction ShoppingCartComponent_div_2_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function ShoppingCartComponent_div_2_button_4_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      var ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.clearCart());\n    });\n    i0.ɵɵtext(1, \"Clear Shopping Cart\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ShoppingCartComponent_div_2_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵelement(2, \"div\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵelement(6, \"product-quantity\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 8);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var item_r7 = ctx.$implicit;\n    var cart_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"background-image\", \"url(\" + item_r7.imageUrl + \")\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r7.title, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"product\", item_r7)(\"shopping-cart\", cart_r1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind3(9, 6, item_r7.totalPrice, \"USD\", true), \" \");\n  }\n}\nfunction ShoppingCartComponent_div_2_a_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 14);\n    i0.ɵɵtext(1, \"Check Out\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ShoppingCartComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵtemplate(4, ShoppingCartComponent_div_2_button_4_Template, 2, 0, \"button\", 3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"table\", 4)(6, \"thead\")(7, \"tr\");\n    i0.ɵɵelement(8, \"th\");\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Product\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\", 5);\n    i0.ɵɵtext(12, \"Quantity\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\", 6);\n    i0.ɵɵtext(14, \"Price\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(15, \"tbody\");\n    i0.ɵɵtemplate(16, ShoppingCartComponent_div_2_tr_16_Template, 10, 10, \"tr\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"tfoot\")(18, \"tr\");\n    i0.ɵɵelement(19, \"th\")(20, \"th\")(21, \"th\");\n    i0.ɵɵelementStart(22, \"th\", 8);\n    i0.ɵɵtext(23);\n    i0.ɵɵpipe(24, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"tr\")(26, \"th\", 9);\n    i0.ɵɵtemplate(27, ShoppingCartComponent_div_2_a_27_Template, 2, 0, \"a\", 10);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    var cart_r1 = ctx.ngIf;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" You have \", cart_r1.totalItemsCount, \" items in your shopping cart. \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", cart_r1.items.length);\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngForOf\", cart_r1.items);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind3(24, 5, cart_r1.totalPrice, \"USD\", true));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", cart_r1.items.length);\n  }\n}\nvar ShoppingCartComponent = /** @class */function () {\n  function ShoppingCartComponent(shoppingCartService) {\n    this.shoppingCartService = shoppingCartService;\n  }\n  ShoppingCartComponent.prototype.ngOnInit = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a;\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            _a = this;\n            return [4 /*yield*/, this.shoppingCartService.getCart()];\n          case 1:\n            _a.cart$ = _b.sent();\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  ShoppingCartComponent.prototype.clearCart = function () {\n    this.shoppingCartService.clearCart();\n  };\n  ShoppingCartComponent.ɵfac = function ShoppingCartComponent_Factory(t) {\n    return new (t || ShoppingCartComponent)(i0.ɵɵdirectiveInject(i1.ShoppingCartService));\n  };\n  ShoppingCartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ShoppingCartComponent,\n    selectors: [[\"app-shopping-cart\"]],\n    decls: 4,\n    vars: 3,\n    consts: [[\"class\", \"card\", \"style\", \"width: 80%;\", 4, \"ngIf\"], [1, \"card\", 2, \"width\", \"80%\"], [1, \"card-body\"], [\"class\", \"float-right btn btn-light btn-sm\", 3, \"click\", 4, \"ngIf\"], [1, \"table\"], [1, \"text-center\", 2, \"width\", \"230px\"], [1, \"text-right\", 2, \"width\", \"200px\"], [4, \"ngFor\", \"ngForOf\"], [1, \"text-right\"], [\"colspan\", \"4\"], [\"routerLink\", \"/check-out\", \"class\", \"btn btn-primary\", 4, \"ngIf\"], [1, \"float-right\", \"btn\", \"btn-light\", \"btn-sm\", 3, \"click\"], [1, \"thumbnail\"], [3, \"product\", \"shopping-cart\"], [\"routerLink\", \"/check-out\", 1, \"btn\", \"btn-primary\"]],\n    template: function ShoppingCartComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h1\");\n        i0.ɵɵtext(1, \"Shopping Cart\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(2, ShoppingCartComponent_div_2_Template, 28, 9, \"div\", 0);\n        i0.ɵɵpipe(3, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 1, ctx.cart$));\n      }\n    },\n    dependencies: [i2.RouterLink],\n    styles: [\".thumbnail[_ngcontent-%COMP%] { \\n  width: 80px;\\n  height: 80px;\\n  border-radius: 100%;\\n  background-size: cover;\\n}\\n\\n.card[_ngcontent-%COMP%] { \\n  margin-bottom: 80px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2hvcHBpbmcvY29tcG9uZW50cy9zaG9wcGluZy1jYXJ0L3Nob3BwaW5nLWNhcnQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0E7RUFDRSxXQUFXO0VBQ1gsWUFBWTtFQUNaLG1CQUFtQjtFQUNuQixzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSxtQkFBbUI7QUFDckIiLCJzb3VyY2VzQ29udGVudCI6WyJcbi50aHVtYm5haWwgeyBcbiAgd2lkdGg6IDgwcHg7XG4gIGhlaWdodDogODBweDtcbiAgYm9yZGVyLXJhZGl1czogMTAwJTtcbiAgYmFja2dyb3VuZC1zaXplOiBjb3Zlcjtcbn1cblxuLmNhcmQgeyBcbiAgbWFyZ2luLWJvdHRvbTogODBweDtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n  return ShoppingCartComponent;\n}();\nexports.ShoppingCartComponent = ShoppingCartComponent;","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;;ICKMA,kCAAiG;IAA/DA;MAAAA;MAAA;MAAA,OAASA,iCAAW;IAAA,EAAC;IAA0CA,mCAAmB;IAAAA,iBAAS;;;;;IAc7HA,0BAAoC;IAEhCA,0BACM;IACRA,iBAAK;IACLA,0BAAI;IACFA,YACF;IAAAA,iBAAK;IACLA,0BAAI;IACFA,uCACmB;IACrBA,iBAAK;IACLA,6BAAuB;IACrBA,YACF;;IAAAA,iBAAK;;;;;IAZEA,eAAsD;IAAtDA,mEAAsD;IAI3DA,eACF;IADEA,8CACF;IAEoBA,eAAgB;IAAhBA,iCAAgB;IAIlCA,eACF;IADEA,sFACF;;;;;IAYEA,6BAA6E;IAAAA,yBAAS;IAAAA,iBAAI;;;;;IA5CpGA,8BAAoE;IAG9DA,YACA;IAAAA,kFAA6H;IAE/HA,iBAAI;IAENA,gCAAqB;IAGfA,qBAAS;IACTA,0BAAI;IAAAA,wBAAO;IAAAA,iBAAK;IAChBA,8BAA6C;IAAAA,yBAAQ;IAAAA,iBAAK;IAC1DA,8BAA4C;IAAAA,sBAAK;IAAAA,iBAAK;IAG1DA,8BAAO;IACLA,8EAeK;IACPA,iBAAQ;IACRA,8BAAO;IAEHA,sBAAS;IAGTA,8BAAuB;IAAAA,aAA2C;;IAAAA,iBAAK;IAEzEA,2BAAI;IAEAA,2EAA0F;IAC5FA,iBAAK;;;;IA1CPA,eACA;IADAA,8FACA;IAASA,eAAuB;IAAvBA,2CAAuB;IAcXA,gBAAa;IAAbA,uCAAa;IAsBTA,eAA2C;IAA3CA,4EAA2C;IAI5DA,eAAuB;IAAvBA,2CAAuB;;;AD1CrC;EAQE,+BAAoBC,mBAAwC;IAAxC,wBAAmB,GAAnBA,mBAAmB;EAAyB;EAE1DC,wCAAQ,GAAd;;;;;;YACEC,SAAI;YAAS,qBAAM,IAAI,CAACF,mBAAmB,CAACG,OAAO,EAAE;;YAArDD,GAAKE,KAAK,GAAGC,SAAwC;;;;;GACtD;;EAEDJ,yCAAS,GAAT;IACE,IAAI,CAACD,mBAAmB,CAACM,SAAS,EAAE;EACtC,CAAC;;qBAXUL,qBAAqB;EAAA;;UAArBA,qBAAqB;IAAAM;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QCRlCZ,0BAAI;QAAAA,6BAAa;QAAAA,iBAAK;QACtBA,uEAiDM;;;;QAjDaA,eAAoB;QAApBA,sDAAoB;;;;;;8BDDvC;CAoBC,EAjBD;AAKaa","names":["i0","shoppingCartService","ShoppingCartComponent","_a","getCart","cart$","_b","clearCart","selectors","decls","vars","consts","template","exports"],"sourceRoot":"","sources":["C:\\Angular\\routeShop\\src\\app\\shopping\\components\\shopping-cart\\shopping-cart.component.ts","C:\\Angular\\routeShop\\src\\app\\shopping\\components\\shopping-cart\\shopping-cart.component.html"],"sourcesContent":["import { ShoppingCartService } from '../../../shared/services/shopping-cart.service';\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-shopping-cart',\n  templateUrl: './shopping-cart.component.html',\n  styleUrls: ['./shopping-cart.component.css']\n})\nexport class ShoppingCartComponent implements OnInit {\n  cart$;\n\n  constructor(private shoppingCartService: ShoppingCartService) { }\n\n  async ngOnInit() {\n    this.cart$ = await this.shoppingCartService.getCart();\n  }\n\n  clearCart() { \n    this.shoppingCartService.clearCart();\n  }\n}\n","<h1>Shopping Cart</h1>\n<div class=\"card\" *ngIf=\"cart$ | async as cart\" style=\"width: 80%;\">\n  <div class=\"card-body\">\n    <p>\n      You have {{ cart.totalItemsCount }} items in your shopping cart.\n      <button *ngIf=\"cart.items.length\" (click)=\"clearCart()\" class=\"float-right btn btn-light btn-sm\">Clear Shopping Cart</button>\n\n    </p>\n  </div>\n  <table class=\"table\">\n    <thead>\n      <tr>\n        <th></th>\n        <th>Product</th>\n        <th class=\"text-center\" style=\"width: 230px\">Quantity</th>\n        <th class=\"text-right\" style=\"width: 200px\">Price</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let item of cart.items\">\n        <td>\n          <div [style.backgroundImage]=\"'url(' + item.imageUrl + ')'\" class=\"thumbnail\">\n          </div>\n        </td>\n        <td>\n          {{ item.title }}\n        </td>\n        <td>\n          <product-quantity [product]=\"item\" [shopping-cart]=\"cart\">\n          </product-quantity>\n        </td>\n        <td class=\"text-right\">\n          {{ item.totalPrice | currency:'USD':true }}\n        </td>\n      </tr>\n    </tbody>\n    <tfoot>\n      <tr>\n        <th></th>\n        <th></th>\n        <th></th>\n        <th class=\"text-right\">{{ cart.totalPrice | currency:'USD':true }}</th>\n      </tr>\n      <tr>\n        <th colspan=\"4\">\n          <a *ngIf=\"cart.items.length\" routerLink=\"/check-out\" class=\"btn btn-primary\">Check Out</a>\n        </th>\n      </tr>\n    </tfoot>\n  </table>\n</div>"]},"metadata":{},"sourceType":"script","externalDependencies":[]}